# Инструкция по деплою на Railway

## Быстрый старт

1. **Подключите репозиторий:**
   - Railway → New Project → Deploy from GitHub repo
   - Выберите ваш репозиторий

2. **Настройте переменные окружения:**
   ```
   ADMIN_USERNAME=admin
   ADMIN_PASSWORD=ваш_надежный_пароль
   SESSION_SECRET=случайная_длинная_строка_минимум_32_символа
   NODE_ENV=production
   ```

3. **Railway автоматически задеплоит проект!**

## Важно знать

### Хранение данных
Railway использует временное хранилище (ephemeral storage). Это значит:
- ❌ Данные (`data/content.json`) удаляются при перезапуске
- ❌ Загруженные изображения (`public/uploads/`) удаляются при перезапуске

### Решения для постоянного хранения:

**Вариант 1: Railway Volumes** (платно)
- В Railway добавьте Volume
- Подключите к `/app/data` и `/app/public/uploads`

**Вариант 2: Внешние сервисы** (рекомендуется)
- **Изображения**: Cloudinary, AWS S3, или ImgBB
- **Данные**: PostgreSQL, MongoDB, или Supabase

**Вариант 3: Git-based storage** (для небольших проектов)
- Храните данные в репозитории (не рекомендуется для продакшена)

## Проверка деплоя

После деплоя:
1. Откройте URL, который предоставил Railway
2. Перейдите на `/login`
3. Войдите с учетными данными из переменных окружения
4. Проверьте работу админ-панели

## Troubleshooting

**Проблема**: Приложение не запускается
- Проверьте логи в Railway
- Убедитесь, что все переменные окружения установлены
- Проверьте, что `npm run build` проходит успешно

**Проблема**: Данные пропадают после перезапуска
- Это нормально для ephemeral storage
- Используйте Railway Volumes или внешнее хранилище

**Проблема**: Ошибки с изображениями
- Проверьте права доступа к `/public/uploads`
- Убедитесь, что директория создается автоматически


